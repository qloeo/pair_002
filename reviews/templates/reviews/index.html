

{% extends 'base.html' %}

{% block style %}


  .reviews--create {
    display: flex;
    justify-content: center;
    align-items: flex-end;
  }

  .table-sizing{ 
    text-align: center;
  }
  .table--text a {
    display: block;
    width: 100%;
    height: 100%;
    color: inherit;
    text-decoration: none;
  }
  .footer--dg {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0; 
  }
{% endblock style %}




{% block content %}
  <article class="contents">
    <div class="contents--header">
      <h1>Movie review list</h1>
      <a class="reviews--create" href="{% url 'reviews:create' %}"><button type="button" class="btn btn-success">글 작성</button></a>
    </div>
    <hr>
    <table class="table table-light table-sizing">
      <thead>
        <tr>
          <th scope="col">글 번호</th>
          <th scope="col">영화 제목</th>
          <th scope="col">작성자</th>
          <th scope="col">작성 일자</th>
        </tr>
      </thead>
      <tbody>
      {% for review in reviews %}
        <tr class="table--text">
          <th scope="row"><a href="{% url 'reviews:detail' review.pk %}">{{review.pk}}</a></th>
          <td><a href="{% url 'reviews:detail' review.pk %}">{{review.movie}} 
            <span class="badge rounded-pill text-bg-primary">{{review.comment_set.count}}</span></a>
          </td>
          <td><a href="{% url 'reviews:detail' review.pk %}">{{review.user}}</a></td>
          <td><a href="{% url 'reviews:detail' review.pk %}">{{review.created_at}}</a></td>
          <td><a href="{% url 'reviews:detail' review.pk %}">{{review.comment_set.count}}</a></td>
        </tr>
      {% endfor %}
      </tbody>
      </table>
  </article>
{% endblock content %}
